import{d as q,c as m,g as C,h as _}from"./QIcon.be38c0f3.js";import{Q as P,r as Q,i as g,c,h as v,T as I,e as h,f as u,j as p,k as D,g as S,_ as B,t as F,u as k,v as H,R as j}from"./index.55b4a059.js";const b={threshold:0,root:null,rootMargin:"0px"};function y(e,n,r){let t,i,a;typeof r=="function"?(t=r,i=b,a=n.cfg===void 0):(t=r.handler,i=Object.assign({},b,r.cfg),a=n.cfg===void 0||P(n.cfg,i)===!1),n.handler!==t&&(n.handler=t),a===!0&&(n.cfg=i,n.observer!==void 0&&n.observer.unobserve(e),n.observer=new IntersectionObserver(([s])=>{if(typeof n.handler=="function"){if(s.rootBounds===null&&document.body.contains(e)===!0){n.observer.unobserve(e),n.observer.observe(e);return}(n.handler(s,n.observer)===!1||n.once===!0&&s.isIntersecting===!0)&&$(e)}},i),n.observer.observe(e))}function $(e){const n=e.__qvisible;n!==void 0&&(n.observer!==void 0&&n.observer.unobserve(e),delete e.__qvisible)}var w=q({name:"intersection",mounted(e,{modifiers:n,value:r}){const t={once:n.once===!0};y(e,t,r),e.__qvisible=t},updated(e,n){const r=e.__qvisible;r!==void 0&&y(e,r,n.value)},beforeUnmount:$}),R=m({name:"QIntersection",props:{tag:{type:String,default:"div"},once:Boolean,transition:String,transitionDuration:{type:[String,Number],default:300},ssrPrerender:Boolean,margin:String,threshold:[Number,Array],root:{default:null},disable:Boolean,onVisibility:Function},setup(e,{slots:n,emit:r}){const t=Q(g.value===!0?e.ssrPrerender:!1),i=c(()=>e.root!==void 0||e.margin!==void 0||e.threshold!==void 0?{handler:d,cfg:{root:e.root,rootMargin:e.margin,threshold:e.threshold}}:d),a=c(()=>e.disable!==!0&&(g.value!==!0||e.once!==!0||e.ssrPrerender!==!0)),s=c(()=>[[w,i.value,void 0,{once:e.once}]]),o=c(()=>`--q-transition-duration: ${e.transitionDuration}ms`);function d(l){t.value!==l.isIntersecting&&(t.value=l.isIntersecting,e.onVisibility!==void 0&&r("visibility",t.value))}function f(){if(t.value===!0)return[v("div",{key:"content",style:o.value},_(n.default))];if(n.hidden!==void 0)return[v("div",{key:"hidden",style:o.value},n.hidden())]}return()=>{const l=e.transition?[v(I,{name:"q-transition--"+e.transition},f)]:f();return C(e.tag,{class:"q-intersection"},l,"main",a.value,()=>s.value)}}}),O=m({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:n}){const{proxy:{$q:r}}=S(),t=h(p,u);if(t===u)return console.error("QPage needs to be a deep child of QLayout"),u;if(h(D,u)===u)return console.error("QPage needs to be child of QPageContainer"),u;const a=c(()=>{const o=(t.header.space===!0?t.header.size:0)+(t.footer.space===!0?t.footer.size:0);if(typeof e.styleFn=="function"){const d=t.isContainer.value===!0?t.containerHeight.value:r.screen.height;return e.styleFn(o,d)}return{minHeight:t.isContainer.value===!0?t.containerHeight.value-o+"px":r.screen.height===0?o!==0?`calc(100vh - ${o}px)`:"100vh":r.screen.height-o+"px"}}),s=c(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>v("main",{class:s.value,style:a.value},_(n.default))}});const z={};function K(e,n,r,t,i,a){return F(),k(R,{"transition-duration":2e3,once:"",transition:"fade"},{default:H(()=>[j(e.$slots,"default")]),_:3})}var T=B(z,[["render",K]]);export{T as D,O as Q,R as a};
